<div class="d-flex justify-content-center align-items-center h-100">
    <div class="card" style="width: 256px">
        @if (session()) {
            <div class="card-body">
                <div class="d-flex justify-content-center">
                    @if (session()?.photoURL) {
                        <img
                            class="img-fluid m-1 rounded text-center"
                            [src]="session()?.photoURL"
                            [alt]="session()?.displayName || 'UNKNOWN'"
                        />
                    }
                </div>
                <hr class="my-2" />
                <div class="d-flex justify-content-between align-items-center">
                    <button class="btn btn-primary" (click)="createRoom()">Create</button>
                    <span class="text-black-50">OR</span>
                    <button class="btn btn-success" (click)="showJoin.set(true)">Join</button>
                </div>
                @if (showJoin()) {
                    <div class="mt-2" [formGroup]="form" [class.shake]="invalidCode()">
                        <div formArrayName="code" class="d-flex justify-content-between">
                            @for (control of form.controls.code.controls; track $index) {
                                <input
                                    #input
                                    class="form-control text-center"
                                    [formControlName]="$index"
                                    maxlength="1"
                                    (keyup)="handleInput($event, $index)"
                                    (paste)="handlePaste($event)"
                                />
                            }
                        </div>
                    </div>
                }
            </div>
        } @else {
            <div class="card-body text-center">Loading...</div>
        }
    </div>
</div>
